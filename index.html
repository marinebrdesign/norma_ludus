<!DOCTYPE html>
<html>
<head>
    <title>Norma Ludus</title>

    <!-- VueJS -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <!-- Vue-router pour injection des composants => routage & navigation -->
    <script src="https://unpkg.com/vue-router"></script>

    <!-- Lib Axios pour Ajax -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <!-- Librairie momentJS : format dates -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js">
    </script>

    <!-- Css de la maquette -->

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://kit.fontawesome.com/6113af7c7c.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="css/typographie_couleurs.css">
        <link rel="stylesheet" href="css/menu.css">
        <link rel="stylesheet" href="css/style_mise_en_page.css">
        <link rel="stylesheet" href="css/style_mise_en_page_landing.css">
        <link rel="stylesheet" href="css/typographie_couleurs_landing.css">
        <style>@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap');</style>
        <style>@import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@700&display=swap');</style>
        <style>@import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@700&family=Roboto:wght@300;400;500;700;900&display=swap');</style>
        </head>
<body>
    <!-- Point d'injection des composants -->
    <router-view id="app"></router-view>



<!-- les composants utilisés -->
<script src="components/n-header.vue.js"></script>
<script src="components/n-barre-recherche.vue.js"></script>
<script src="components/n-footer.vue.js"></script>



<!-- les pages utilisés -->
<script src="pages/Accueil.vue.js"></script>
<script src="pages/a-propos.vue.js"></script>
<script src="pages/abonnement.vue.js"></script>
<script src="pages/acheter-jeux.vue.js"></script>
<script src="pages/ajouter-regle.vue.js"></script>
<script src="pages/ajouter-variante.vue.js"></script>
<script src="pages/bataille.vue.js"></script>
<script src="pages/dooble.vue.js"></script>
<script src="pages/envoi.vue.js"></script>
<script src="pages/j-cartes.vue.js"></script>
<script src="pages/j-des.vue.js"></script>
<script src="pages/j-pions.vue.js"></script>
<script src="pages/j-plateau.vue.js"></script>
<script src="pages/jeu-de-dames.vue.js"></script>
<script src="pages/loup-garou.vue.js"></script>
<script src="pages/mails.vue.js"></script>
<script src="pages/mentions-legales.vue.js"></script>
<script src="pages/mes-parametres.vue.js"></script>
<script src="pages/mon-profil.vue.js"></script>
<script src="pages/notifications.vue.js"></script>
<script src="pages/landing-page.js"></script>
<script src="pages/page-inscription.vue.js"></script>
<script src="pages/paramètre-mon-profil.vue.js"></script>
<script src="pages/passer-premium.vue.js"></script>
<script src="pages/paypal.vue.js"></script>
<script src="pages/porte-monnaie.vue.js"></script>
<script src="pages/vendre-jeux.vue.js"></script>
<script src="pages/acheter-jeux.vue.js"></script>
<script src="pages/vendre-jeux.vue.js"></script>
<script src="pages/mon-profil.vue.js"></script>
<script src="pages/mes-parametres.vue.js"></script>
<script src="pages/a-propos.vue.js"></script>


<script>
    // les routages / navigations de l'application
    var routes = [
        { path: '/', 				        component: Accueil,         alias:'/accueil', name: 'Accueil' },
        { path: '/a-propos', 		        component: APropos },
        { path: '/acheter-jeux', 	        component: AcheterJeux},
        { path: '/vendre-jeux', 	        component: VendreJeux},
        { path: '/mon-profil', 		        component: MonProfil},
        { path: '/mes-parametres', 		    component: MesParametres},
        { path: '/j-cartes', 		        component: JCartes},
        { path: '/j-des', 		            component: JDes},
        { path: '/j-pions', 		        component: JPions},
        { path: '/j-plateau', 		        component: JPlateau},
        { path: '/abonnement', 		        component: Abonnement},
        { path: '/ajouter-regle', 		    component: AjouterRegle},
        { path: '/ajouter-variante', 		component: AjouterVariante},
        { path: '/bataille', 		        component: Bataille},
        { path: '/dooble', 		            component: Dooble},
        { path: '/envoi', 		            component: Envoi},
        { path: '/jeu-de-dames', 		    component: JeuDeDames},
        { path: '/loup-garou', 		        component: LoupGarou},
        { path: '/mails', 		            component: Mails},
        { path: '/mentions-legales', 		component: MentionsLegales},
        { path: '/notifications', 		    component: Notifications},
        { path: '/landing-page', 		    component: LandingPage, name: 'Login'},
        { path: '/page-inscription', 		component: PageInscription, name: 'Sign up'},
        { path: '/parametre-mon-profil', 	component: ParametreMonProfil},
        { path: '/passer-premium', 		    component: PasserPrenium},
        { path: '/paypal', 		            component: Paypal},
        { path: '/porte-monnaie', 		    component: PorteMonnaie},
    ];

    // Le router initialisé sur l'accueil
    var router = new VueRouter(
        {routes: routes}
    );
    router.beforeEach((to, from, next) => {
        const isAuthenticated = localStorage.key('username') !== null
        if ( to.name !== 'Login' && to.name !== 'Sign up' && !isAuthenticated) next({ name: 'Login' })
        else next()
    })

    // La Vue principale de l'application
    var app = new Vue({
        el: '#app',
        router: router
    })
</script>

</body>
</html>